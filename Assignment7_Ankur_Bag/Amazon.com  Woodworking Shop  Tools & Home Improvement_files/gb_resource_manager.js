if(!window.GBResources){(function(){var a=function(f,d){var c=f;if(d===undefined){for(var b in d){c[b]=d[b]}}var e=(c&&c.__init__)||function(){};e.prototype=c;return e};window.GBResources=new a({__init__:function(c){var b=this;b.strings={};b.images={};b.features={};b.customerData={};b.categories=[];b.dealDebug=false;b.loadedUrls={};b.preload_img_div=null;b.amznMerchantID=null;b.nodeIdToCategoryMap={};b.registered={};if(c==null){return}if(c.strings){b.registerStrings(c.strings)}if(c.images){b.registerImages(c.images)}if(c.preloadImageList){b.preloadImages(c.preloadImageList)}if(c.features){b.registerFeatures(c.features)}},registerStrings:function(b){var c=this;c.registerResources(c.strings,b)},getString:function(f,d){var b=this;if(!(f in b.strings)){b.log('!!! ERROR: StringId "'+f+'" does not exist in the strings repository.');return""}var g=""+b.strings[f];if(d==null){return g}for(var c in d){var e=new RegExp("\\${"+c+"}","g");g=g.replace(e,d[c])}return g},registerImages:function(c){var b=this;b.registerResources(b.images,c)},preloadImages:function(d){var b=this;if(d===null||d===undefined){return}for(var c=0;c<d.length;++c){if(b.images[d[c]]){b.preloadImage(b.images[d[c]])}}},preloadImage:function(c){var b=this;if(!b.preload_img_div){b.preload_img_div=b.div({style:"display:none"})}b.preload_img_div.appendChild(b.img({src:c}))},getImage:function(c){var b=this;return b.images[c]},registerFeatures:function(c){var b=this;b.registerResources(b.features,c)},getFeature:function(c){var b=this;return b.features[c]},registerCustomerData:function(b){var c=this;c.registerResources(c.customerData,b)},getCustomerData:function(c){var b=this;return b.customerData[c]},registerCategories:function(c){var b=this;b.registerResources(b.categories,c);b.registerNodeIdToCategoryMap()},getAllCategories:function(){var b=this;return b.categories},registerNodeIdToCategoryMap:function(){var d=this;for(var c=0;c<d.categories.length;c++){var b=d.categories[c];var f=b.nodeId;var e=b.category;d.nodeIdToCategoryMap[f]=e}},getNodeIdToCategoryMap:function(){var b=this;return b.nodeIdToCategoryMap},registerResources:function(d,b){var c=this;if(b===null||d===null){return}for(var e in b){d[e]=b[e]}},setDealDebug:function(c){var b=this;b.dealDebug=c},getDealDebug:function(){var b=this;return b.dealDebug},registerFromJSON:function(b){var c=this;if(b.GBStrings){c.registerStrings(b.GBStrings)}if(b.GBImages){c.registerImages(b.GBImages)}if(b.GBWeblabs){c.registerFeatures(b.GBWeblabs)}if(b.GBCustomerData){c.registerCustomerData(b.GBCustomerData)}if(b.GBWidgetName){c.registerFeatures(b.GBWidgetName)}if(b.GBZone){c.registerFeatures(b.GBZone)}if(b.GBCategories){c.registerCategories(b.GBCategories)}if(b.GBDealDebug){c.setDealDebug(b.GBDealDebug)}},setAmznMerchantID:function(c){var b=this;b.amznMerchantID=c},getAmznMerchantID:function(){var b=this;return b.amznMerchantID},isAmznMerchant:function(d,c){var b=this;if(d!==undefined&&d!==null){if(d==b.getAmznMerchantID()){return true}}else{if(c!==undefined&&c!==null){c=c.toLowerCase();if(c.indexOf("amazon")!=-1){return true}}}return false},img:function(c){var b=this;c=c||{};c.border=c.border||0;return b.el("img",c)},div:function(c,d){var b=this;return b.el("div",c,d)},el:function(f,c,d){var b=this;var e=document.createElement(f);if(c){b.set_attributes(e,c)}if(d){b.appendChildren(e,d)}return e},set_attributes:function(e,c){for(var b in c){if(b=="style"){e.style.cssText=c[b]}else{var d={"class":"className",checked:"defaultChecked",usemap:"useMap","for":"htmlFor",readonly:"readOnly",colspan:"colSpan",bgcolor:"bgColor",cellspacing:"cellSpacing",cellpadding:"cellPadding",valign:"vAlign",nowrap:"noWrap"}[b]||b;e[d]=c[b]}}},log:function(c){var b=this;c=new Date()+": "+c;if(window.console){window.console.log(c)}},loadJS:function(c,e){var b=this;if(c===undefined||c===null){b.log("GBResources::loadJS - Specified an undefined url");return}if(b.loadedUrls[c]){b.log("GBResources::loadJS - "+c+" is already loaded");return}b.loadedUrls[c]=true;var d=document.createElement("script");d.type="text/javascript";d.src=c;d.async=e?false:true;document.getElementsByTagName("head")[0].appendChild(d)},loadCSS:function(c){var b=this;if(c===undefined||c===null){b.log("GBResources::loadCSS - Specified an undefined url");return}if(b.loadedUrls[c]){b.log("GBResources::loadCSS - "+c+" is already loaded");return}b.loadedUrls[c]=true;var d=document.createElement("link");d.type="text/css";d.rel="stylesheet";d.href=c;document.getElementsByTagName("head")[0].appendChild(d)},getParamValueFromUrl:function(f,c){f=f.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var b="[\\?&]"+f+"=([^&#]*)";var e=new RegExp(b);var d=e.exec(c);if(!d){return""}else{return window.decodeURIComponent(d[1].replace(/\+/g," "))}}})})()}if(!window.gbResources){window.gbResources=new GBResources()}if(window.P&&window.P.AUI_BUILD_DATE){window.gbRegistered=window.gbRegistered||{};window.gbResources.registered=window.gbResources.registered||{};if(!window.gbRegistered.dealResources&&!window.gbResources.registered.dealResources){window.gbRegistered.dealResources=true;window.gbResources.registered.dealResources=true;P.register("dealResources",function(){return window.GBResources})}}else{if(window.amznJQ&&typeof amznJQ==="object"){amznJQ.declareAvailable("dealResources")}};
if(typeof(amznJQ)==='object'){amznJQ.declareAvailable('gb_resource_manager');}if(typeof(P)==='object'){window.gbRegistered=window.gbRegistered||{};if(!window.gbRegistered.gb_resource_manager){window.gbRegistered.gb_resource_manager=true;P.register('gb_resource_manager');}}